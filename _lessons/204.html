---
layout: presentation
title: Intro to Data Warehouses
lesson: 204
---

class: title, center, middle
# Data Warehouses & You

---


# What is a data warehouse?

--

<img src="/lessons/img/{{page.lesson}}/galaxy.png" style="width: 60%;" class="img-center">

---

# Structured Data

_ordines et columnae sumus._     - Horace, Ode 4.7

&nbsp;

| id | name    | favorite_color | is_creative |
|----|---------|----------------|-------------|
| 1  | Alice   | green          | false       |
| 2  | Barbara | blue           | true        |

---

# Storing Data

### CSV

```csv
id,name,favorite_color,is_creative
1,Alice,green,false
2,Barbara,blue,true
```

### JSON

```json
{"id": 1, "name": "Alice", "favorite_color": "green", "is_creative": true}
{"id": 2, "name": "Barbara", "favorite_color": "blue", "is_creative": false}
```

---

# Storing Data

### Parquet

```parquet
00000000  50 41 52 31 15 04 15 c8  ba 01 15 c8 ba 01 4c 15  |PAR1..........L.|
00000010  c6 0f 15 04 00 00 00 2a  e9 6c f2 19 00 00 4e 7f  |.......*.l....N.|
00000020  25 00 00 5e 30 d0 e1 37  00 00 4e 7f 25 00 00 2e  |%..^0..7..N.%...|
00000030  f9 22 cb 03 00 00 4e 7f  25 00 00 f2 ba cd fb 01  |."....N.%.......|
00000040  00 00 4e 7f 25 00 00 4e  be 04 ac 10 00 00 4e 7f  |..N.%..N......N.|
00000050  25 00 00 c4 bc 95 26 18  00 00 4e 7f 25 00 00 a8  |%.....&...N.%...|
00000060  cd 63 00 1c 00 00 4e 7f  25 00 00 a4 0d 1f 37 16  |.c....N.%.....7.|
00000070  00 00 4e 7f 25 00 00 92  b3 57 b5 0c 00 00 4e 7f  |..N.%....W....N.|
00000080  25 00 00 4e 7b 7e 8f 3c  00 00 4e 7f 25 00 00 94  |%..N{~.<..N.%...|
00000090  2e 7a 95 00 00 00 4e 7f  25 00 00 74 a7 38 2f 3b  |.z....N.%..t.8/;|
```

---

# Databases

.left-column[
- Interfaces into data!
- Some language (SQL) is used to query the data
- Data storage is abstracted
    - Machine-readable optimized file formats
    - On spinning disks, inside boxes, somewhere in Virginia/Oregon/Ireland
]

.right-column[
<img src="/lessons/img/{{page.lesson}}/butterfly.png" class="img-center">
]

---

# Transactional Databases

.left-column[
Optimized for:
- Reads and writes
- Thousands of concurrent queries

In this category:
- Postgres
- MySQL
- SQL Server
- ...
]

.right-column[
For instance:
- Get one user’s email address
- Add seven items to a user’s cart
- Change a user’s last name

```sql
select *
from products
where trending = true
```

<img src="/lessons/img/{{page.lesson}}/superstore.png" style="width: 100%;">
]

---

# Analytic Databases

.left-column[
Optimized for:
- "Analytical" queries
- Importing and exporting data in batches

In this category:

- Amazon Redshift
- Snowflake
- Google BigQuery
- Azure SQL Data Warehouse
- ....
]

.right-column[
For instance:
- Number of distinct users in Ohio are over 38 years young
- Rolling 14d average of pageviews per day for the last five years
]

---

# Database Comparisons*

| db            | Latency       | Concurrent Queries | Rows Scanned / Query |
|---------------|---------------|--------------------|----------------------|
| Transactional | ~milliseconds | ~thousands         | ~thousands*          |
| Analytic    | ~seconds      | ~dozens            | >> millions          |

---

# What's in a name?

.left-column[
Transactional Database, a.k.a.:
- Relational Database
- RDMS or RDBMS
- Rowise, Row-oriented, Row Store
- OLTP
- e.g. Postgres
]

.right-column[
Analytic(al) Database, a.k.a.:
- Data Warehouse
- Columnar Database
- Column-oriented, Column Store
- OLAP
- e.g. Redshift
]

---

# Which one is right? (Both!)

- Power your application with a transactional database
- Analyze data with an analytical database

<img src="/lessons/img/{{page.lesson}}/stack.png" style="width: 90%;">

---

# A modern approach

1. Replicate data into a warehouse
    - Transactional databases
    - SaaS products
    - Event tracking
2. Query the data in the warehouse
3. Be a cultural change agent for data in your organization
4. Profit

???
- RDMS or RDBMS = Relational Database Management System
- OLTP = Online Transactional Processing
- OLAP = Online Analytical Processing

---

class: subtitle, middle, center
# Lunch!

{% include options/next-presentation.html %}
